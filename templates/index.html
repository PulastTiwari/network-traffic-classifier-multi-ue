<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Traffic Classifier - MVP Demo</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>🌐 Network Traffic Classifier</h1>
            <p class="subtitle">Real-time classification of network traffic into 7 application categories</p>
            <div class="status-indicator" id="status">
                <span class="status-dot"></span>
                <span id="status-text">Checking status...</span>
            </div>
        </header>

        <div class="main-content">
            <div class="left-panel">
                <div class="control-panel">
                    <h3>🎮 Control Panel</h3>
                    
                    <div class="control-group">
                        <button id="train-btn" class="btn btn-primary" onclick="trainModel()">
                            🔧 Train Model
                        </button>
                        <div id="train-status" class="status-message"></div>
                    </div>
                    
                    <div class="control-group">
                        <button id="predict-btn" class="btn btn-success" onclick="makePrediction()">
                            🔍 Classify Sample
                        </button>
                        <div id="predict-status" class="status-message"></div>
                    </div>
                    
                    <div class="control-group">
                        <button id="simulate-btn" class="btn btn-info" onclick="toggleSimulation()">
                            ⚡ Start Real-time Simulation
                        </button>
                        <div id="simulation-status" class="status-message"></div>
                    </div>
                </div>

                <div class="model-info">
                    <h3>📊 Model Information</h3>
                    <div id="model-metrics">
                        <div class="metric">
                            <span class="metric-label">Status:</span>
                            <span class="metric-value" id="model-status">Loading...</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Accuracy:</span>
                            <span class="metric-value" id="model-accuracy">N/A</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Categories:</span>
                            <span class="metric-value">7</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Total Predictions:</span>
                            <span class="metric-value" id="total-predictions">0</span>
                        </div>
                    </div>
                </div>

                <div class="categories-info">
                    <h3>🏷️ Traffic Categories</h3>
                    <div class="categories-list">
                        <div class="category-item">📹 Video Streaming</div>
                        <div class="category-item">📞 Audio Calls</div>
                        <div class="category-item">🎥 Video Calls</div>
                        <div class="category-item">🎮 Gaming</div>
                        <div class="category-item">⬆️ Video Uploads</div>
                        <div class="category-item">🌐 Browsing</div>
                        <div class="category-item">💬 Texting</div>
                    </div>
                </div>
            </div>

            <div class="right-panel">
                <div class="prediction-display">
                    <h3>🔮 Latest Prediction</h3>
                    <div id="latest-prediction" class="prediction-card">
                        <div class="prediction-category">
                            <span class="category-name">No predictions yet</span>
                            <span class="confidence-badge">0%</span>
                        </div>
                        <div class="prediction-details">
                            <div class="detail-item">
                                <span>Timestamp:</span>
                                <span id="prediction-time">-</span>
                            </div>
                        </div>
                        <div class="probabilities" id="prediction-probabilities">
                            <!-- Probability bars will be inserted here -->
                        </div>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>📈 Category Distribution</h3>
                    <canvas id="categoryChart" width="400" height="300"></canvas>
                </div>

                <div class="predictions-log">
                    <h3>📝 Recent Predictions</h3>
                    <div id="predictions-list" class="predictions-scroll">
                        <div class="no-predictions">No predictions yet. Click "Classify Sample" to start!</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading overlay -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="spinner"></div>
        <p>Processing...</p>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
